% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/esgf.R
\name{build_cmip6_db}
\alias{build_cmip6_db}
\title{Build CMIP6 experiment output file index database}
\usage{
build_cmip6_db(dir, retry = 10L, ...)
}
\arguments{
\item{dir}{A directory to save the database. It will be created if not exists.}

\item{retry}{An integer indicating the maximum number of retries to match the
file query to dataset query, or collect all file query responses when
its number reaching the maximum limitation of ESGF search RESTful API
10,000. Default: \code{10}.}

\item{...}{All pass to \code{\link[=esgf_query]{esgf_query()}} except for \code{\link[=esgf_query]{type}}. Note
that here \code{limit} argument will only limit the records for dataset
query, not the file query.}
}
\value{
A \link[data.table:data.table]{data.table::data.table} with 20 columns:\tabular{rlll}{
   No. \tab Column \tab Type \tab Description \cr
   1 \tab `file_id \tab Character \tab Model output file universal identifier \cr
   2 \tab \code{dataset_id} \tab Character \tab Dataset universal identifier \cr
   3 \tab \code{mip_era} \tab Character \tab Activity's associated CMIP cycle. Will always be \code{"CMIP6"} \cr
   4 \tab \code{activity_drs} \tab Character \tab Activity DRS (Data Reference Syntax) \cr
   5 \tab \code{institution_id} \tab Character \tab Institution identifier \cr
   6 \tab \code{source_id} \tab Character \tab Model identifier \cr
   7 \tab \code{experiment_id} \tab Character \tab Root experiment identifier \cr
   8 \tab \code{member_id} \tab Character \tab A compound construction from \code{sub_experiment_id} and \code{variant_label} \cr
   9 \tab \code{table_id} \tab Character \tab Table identifier \cr
   10 \tab \code{grid_label} \tab Character \tab Grid identifier \cr
   11 \tab \code{version} \tab Character \tab Approximate date of model output file \cr
   12 \tab \code{nominal_resolution} \tab Character \tab Approximate horizontal resolution \cr
   13 \tab \code{variable_id} \tab Character \tab Variable identifier \cr
   14 \tab \code{variable_long_name} \tab Character \tab Variable long name \cr
   15 \tab \code{variable_units} \tab Character \tab Units of variable \cr
   16 \tab \code{datetime_start} \tab POSIXct \tab Start date and time of simulation \cr
   17 \tab \code{datetime_end} \tab POSIXct \tab End date and time of simulation \cr
   18 \tab \code{file_size} \tab Character \tab Model output file size in Bytes \cr
   19 \tab \code{data_node} \tab Character \tab Data node to download the model output file \cr
   20 \tab \code{url} \tab Character \tab Model output file download url from HTTP server \cr
}
}
\description{
Build CMIP6 experiment output file index database
}
\details{
\code{build_cmip6_db()} will search the CMIP6 model output file using \code{\link[=esgf_query]{esgf_query()}}
and return a \code{\link[data.table:data.table]{data.table::data.table()}} containing the actual NetCDF file url
to download.
}
\examples{
\dontrun{
build_smip_db(dir = tempdir())
}

}
